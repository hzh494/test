/*! utils-pc | Date:2019-07-02 11:23:53 */
!function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="./js/",e(0)}([function(t,e,o){o(8),o(2),o(1),o(9),o(7),o(5),o(4),o(6),o(3)},function(t,e){!function(t){t.ams||(t.ams={}),ams.commonNewPrize=function(t,e){utils.ajaxOpenAPI({type:"POST",url:"/ams/prize/commonPrize",data:t,success:function(t){e&&e(t)}})}}(window)},function(t,e){!function(t,e,i){var e,n,s,a=t.locale.utilsBox,c=!0,r={boxid:"ol_box",boxclass:"ol_box",type:"dialog",title:"",faceType:"",iconType:"",width:0,height:0,showTitle:!0,showButton:!0,showCancel:!0,showOk:!0,cancelBtnName:a.cancelBtnName,okBtnName:a.okBtnName,timeout:0,draggable:!1,modal:!0,zIndex:9999,remember:!1,position:"center",clickOut:null,onclose:null,onopen:null,oncancel:null,onok:null,blur:null,focus:null,autoHeight:!0,autoPosition:!0,cache:!1},l=function(){return"CSS1Compat"==document.compatMode?document.documentElement:document.body},p=function(){var t=l();return{width:Math.max(t.scrollWidth,t.clientWidth||0)-1,height:Math.max(t.scrollHeight,t.clientHeight||0)-1}},d={};d.dialog={html:'<div><div class="box-ct">   <div class="box-header">       <div class="box-tl"></div>       <div class="box-tc">           <div class="box-tc1"></div>           <div class="box-tc2"><a href="javascript:;" onclick="return false;" title="关闭" class="box-close"></a><span class="box-title"></span></div>       </div>       <div class="box-tr"></div>   </div>   <table width="100%" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed;">       <tr>           <td class="box-cl"></td>           <td class="box-cc">               <div class="box-content"></div>               <div class="box-button">                   <a class="box-cancel" href="javascript:;"><span>取消</span></a>                   <a class="box-ok" href="javascript:;"><span>确定</span></a>               </div>           </td>           <td class="box-cr"></td>       </tr>   </table>   <div class="box-bottom">       <div class="box-bl"></div>       <div class="box-bc"></div>       <div class="box-br"></div>   </div></div></div>',initContent:function(t){t.setContent(t.content)},setContent:function(t,e,o){t.content=e||t.content,t.setContent(t.content),"function"==typeof o&&o()}},d.ajax={initContent:function(t){},setContent:function(t,o,i){t._b_button.hide(),t.setContent('<div class="box-loading"></div>'),t._b_content.height()<90&&t._b_content.height(Math.max(90,t.options.height)),t._box.width()<200&&t._box.width(Math.max(200,t.options.width));var n=o||t.content;return"string"!=typeof n?void alert("please set ajax url."):(t.content=n,t.options.cache===!1&&(n+=n.indexOf("?")==-1?"?_t="+(new Date).getTime():"&_t="+(new Date).getTime()),void e.get(n,function(e){t.options.showButton&&t._b_button.show(),t.setContent(e),"function"==typeof i&&i()}))}},d.iframe={initContent:function(t){},setContent:function(t,e,o){var i=e||t.content;if("string"!=typeof i)return void alert("please set iframe url.");t.content=i;var n="box-iframe-"+(new Date).getTime();t.setContent('<iframe class="boxIframe" width="100%" height="100%" frameborder="0" name="'+n+'"></iframe><script>window["'+n+'"].location.href="'+i+'";</script>'),"function"==typeof o&&o()},closeEvent:function(t){t.options.remember||t.find("iframe").each(function(){this.contentWindow.close(),jQuery(this).remove()})}},utils.box=function(o,i){this.options=null,this._type=null,this._mask=null,this._events={},this._box=null,this._b_content=null,this._b_button=null,this.content=o,this._initedContent=!1,this._onbox=!1,this._isOpen=!1,e=jQuery,n=e(t),s=e(document),c=!1,this.options=e.extend({},r,i),this.init()},utils.box.prototype={init:function(){this.initConfig(),this.options.modal&&this.initMask(),this.initBox(),this.initEvent()},initBox:function(){e("#"+this.options.boxid).remove(),this._box=e(this._type.html).css({visibility:"hidden",position:"absolute",top:0,left:0,zIndex:this.options.zIndex}),this._b_button=this._box.find(".box-button"),this._b_content=this._box.find(".box-content"),this.renderBox(this.options),this._box.appendTo("body"),this._type.initContent(this)},initConfig:function(){switch(this.options.type){case"ajax":this._type=d.ajax;break;case"iframe":this._type=d.iframe;break;default:this._type=d.dialog}this._type=e.extend({},d.dialog,this._type)},initEvent:function(){var e=this;this.options.draggable&&this.options.showTitle?this._box.find(".box-header").mousedown(function(i){var n=this;o=document,ox=parseInt(e._box.css("left"),10),oy=parseInt(e._box.css("top"),10),mx=i.clientX,my=i.clientY,size=p(),box_w=e._box.outerWidth(!0),box_h=e._box.outerHeight(!0),n.setCapture&&n.setCapture();var a=function(o){t.getSelection?t.getSelection().removeAllRanges():document.selection.empty();var i=Math.max(ox+o.clientX-mx,0),n=Math.max(oy+o.clientY-my,0);i=Math.min(i,size.width-box_w),n=Math.min(n,size.height-box_h),e._box.css({left:i,top:n})},c=function(){n.releaseCapture&&n.releaseCapture(),s.unbind("mousemove",a),s.unbind("mouseup",c)};s.mousemove(a).mouseup(c)}):this._box.find(".box-header").css("cursor","default")},renderBox:function(t){var e={zIndex:t.zIndex,position:"absolute"};t.boxid&&this._box.attr("id",t.boxid),t.boxclass&&this._box.attr("class",t.boxclass),t.showTitle?""==t.title||this.setTitle(t.title):this._box.find(".box-title").hide(),t.showButton?(t.showCancel||this._b_button.find(".box-cancel").hide(),t.showOk||this._b_button.find(".box-ok").hide()):this._b_button.hide(),this._b_button.find(".box-ok span").html(t.okBtnName),this._b_button.find(".box-cancel span").html(t.cancelBtnName),this._box.css(e)},setTitle:function(t){return this._box.find(".box-title").html(t),this},setContent:function(o){var i="";if("undefined"!=typeof o&&null!=o){this._initedContent=!0,this.options.faceType&&(i+='<div class="face '+this.options.faceType+'"></div>'),this.options.iconType&&(i+='<i class="'+this.options.iconType+'"></i>'),this._b_content.empty().html(i+o);var n=this;if(this.options.width>0?this._box.css("width",this.options.width):this._box.css("width",null),this.options.height>0){var s={height:this.options.height};this.options.autoHeight||(s["overflow-y"]="auto"),this._b_content.css(s)}else this._b_content.css("height","auto");this.setPosition(),this._box.find(".box-close, .box-cancel, .box-ok").unbind("click").click(function(){n.close()}),"function"==typeof this.options.onok&&this._box.find(".box-ok").unbind("click").click(function(){n.options.onok.call(this,n)}),"function"==typeof this.options.oncancel&&this._box.find(".box-cancel").unbind("click").click(function(){n.options.oncancel.call(this,n)}),this._box.find(".box-close, .box-cancel, .box-ok").unbind("keypress").bind("keypress",function(o){o=o||t.event;var i=o.which||o.charCode||o.keyCode;switch(i){case 27:return n.close(),!1;case 32:case 13:return e(document.activeElement).trigger("click"),!1}})}},openEvent:function(){if(!this._isOpen){var t=this;if(this.options.autoPosition){if("center"!=this.options.position){var o;this._events.scroll=function(){clearTimeout(o),o=setTimeout(function(){t.setPosition()},300)},n.scroll(this._events.scroll)}this._events.resize=function(){t.setPosition()},n.resize(this._events.resize)}this.options.timeout>0&&(this._events.timeout=setTimeout(function(){t.close()},this.options.timeout)),this._onbox=!0,this.options.clickOut&&(this._events.box_click=function(e){t._onbox=!0},this._events.document_click=function(e){return 0!=e.button||(t._onbox===!1&&t.options.clickOut(t),void(t._onbox=!1))},this._box.bind("click",this._events.box_click),s.bind("click",this._events.document_click)),this.options.modal&&this.showMask(),this.options.onopen&&this.options.onopen(this),this.options.focus&&e(this.options.focus).focus(),this._isOpen=!0}},closeEvent:function(){clearTimeout(this._events.timeout),this._events.scroll&&n.unbind("scroll",this._events.scroll),this._events.resize&&n.unbind("resize",this._events.resize),this._events.box_click&&this._box.unbind("click",this._events.box_click),this._events.document_click&&s.unbind("click",this._events.document_click),this.options.modal&&this.hideMask(),this.options.onclose&&this.options.onclose(this),this.options.blur&&e(this.options.blur).focus(),this._isOpen=!1,this._type.closeEvent&&this._type.closeEvent(this)},setPosition:function(){if("center"==this.options.position){var t=n.height(),o=n.width(),i=this._box.outerWidth(),s=this._box.outerHeight(),a={x:(o-i)/2,y:(t-s)/2},r={position:"fixed"};if(a.x<0&&(r.width=o,a.x=0),a.y<0&&(r.height=t,a.y=0),r.top=a.y,r.left=a.x,c){r.position="absolute";var l=e("html");l.css("background-image")&&"none"!=l.css("background-image")||l.css("background-image","url(about:blank)"),this._box[0].style.setExpression("left","(document.documentElement || document.body).scrollLeft+"+r.left+'+"px"'),this._box[0].style.setExpression("top","(document.documentElement || document.body).scrollTop+"+r.top+'+"px"'),delete r.top,delete r.left}return void this._box.css(r)}if("[object Object]"===Object.prototype.toString.call(this.options.position)){var p=this.options.position.top||0,d=this.options.position.left||0;if(this.options.position.ref){var h=e(this.options.position.ref),a=h.offset();p+=a.top,p+=h.outerHeight(!0),d+=a.left}this._box.css({top:p,left:d})}},renderContent:function(t,e){"undefined"!=typeof t&&null!=t&&(this._initedContent=!1),this._initedContent&&this.options.remember?(this.setPosition(),this.openEvent()):this._type.setContent(this,t,e)},open:function(t,o){this._isOpen&&this.closeEvent(),this.options=e.extend({},this.options,o);var i=this;return this.renderContent(t,function(){i.openEvent()}),this._box.stop().css({visibility:"visible",opacity:null}),this},close:function(){this.closeEvent(),this._box.css("visibility","hidden")},isOpen:function(){return this._isOpen},fadeIn:function(t,o,i){this.options=e.extend({},this.options,o),this.renderContent(t);var n=this._box.css("opacity")||1;this._box.css({opacity:0,visibility:"visible"}).stop().animate({opacity:n},i),this.openEvent()},fadeOut:function(t){var e=this;this.closeEvent(),this._box.stop().animate({opacity:0},t,function(){e._box.css({visibility:"hidden",opacity:null})})},find:function(t){return this._b_content.find(t)},getBox:function(){return this._box},initMask:function(){e(".ol_box_mask")&&e(".ol_box_mask").remove(),this._mask=e("<div class='ol_box_mask'></div>").css({visibility:"hidden",width:0,height:0,zIndex:this.options.zIndex}).appendTo("body");var t=this;this._events.masker_resize=function(){t._mask.css(p())}},showMask:function(){var t=p();t.visibility="visible",this._mask.css(t),n.bind("resize",this._events.masker_resize)},hideMask:function(){this._mask.css({visibility:"hidden",width:0,height:0}),n.unbind("resize",this._events.masker_resize)}}}(window,jQuery)},function(t,e){window.DC||(window.DC={}),DC.namespace=function(){for(var t,e,o,i,n=arguments,s=0;s<n.length;s++)if(t=this,i=n[s],i.indexOf(".")>-1)for(o=i.split("."),e="DC"==o[0]?1:0;e<o.length;e++)t[o[e]]=t[o[e]]||{},t=t[o[e]];else t[i]=t[i]||{},t=t[i];return t},DC.namespace("modules"),DC.defineModule=function(t,e){var o,i=DC.modules,n=function(t){return"[object Function]"===Object.prototype.toString.call(t)};if(t&&e&&!i[t]){o=n(e)?e():e;try{o&&o.init&&(i[t]=o)}catch(t){}}}},function(t,e){!function(t,e,o){function i(o,i,n){var a="/ams/coupon/receive",c={myLoginUrl:"",bindPhoneUrl:main+"/member/bind/phone/redirect?back_url="+encodeURIComponent(t.location.href),confirmUrl:main+"/authmember/accesstoken"};utils.ajaxOpenAPI({type:"POST",url:a,data:{activityCode:o,batchCode:i,t:(new Date).getTime()},success:function(t){if(t.success)r(t.pcReviceSuccTip,0),utils.queryCouponState([{activityCode:o,batchCode:i}],function(t){var o="";t.receiveStates==-1?o="state-empty-"+n:1==t.receiveStates?(o="state-general-"+n,e('li[data-acbc="'+t.activityCode+t.batchCode+'"]').find("a").attr("class","getCoupon")):2==t.receiveStates?o="state-got-"+n:3==t.receiveStates?o="state-begin-"+n:4==t.receiveStates&&(o="state-over-"+n),e('li[data-acbc="'+t.activityCode+t.batchCode+'"]').attr("class",o)});else switch(parseInt(t.code)){case 9206:r(t.errorTip,2);break;case 9208:r(t.errorTip,3);break;case 9209:r(t.errorTip,4);break;default:r(t.errorTip,1)}}});var r=function(t,o){var i={0:"",1:"",2:s["btn.login"],3:s["btn.verification"],4:s["btn.authentication"]},n={0:"",1:"",2:"javascript:utils.goLogin()",3:c.bindPhoneUrl,4:c.confirmUrl},a=0;0==o&&(a=-20);var r='<span style="color: #777;position: relative;padding: 3px 0 3px 26px;"><em class="cpem" style="width: 20px;height: 20px;position: absolute;top:2px;left:0px;background-position-y:'+a+'px;"></em>'+t+' <a href="'+n[o]+'">'+i[o]+"</a></span>";e("#couponDiv").children("p").html(r)}}function n(){var t='<div style="display:none;width:100%;height:100%;position:fixed;z-index:99999;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.5);"><div id="couponDiv" class="mod-bfcoupons-pc" style="width:698px;border: 1px solid #d6d6d6;position: fixed;background: #fff;z-index:1000;left:50%;margin-left: -350px;"><a class="cpa" href="javascript:;" onclick="$(this).parent().parent().hide();$(\'#couponDiv\').children(\'p\').html(\'\');" style="display:block;position:absolute;width:45px;height:44px;top:0px;right:0px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAA3ElEQVQoz43RPUpEMRSG4ScXLVyClZ0L0LGw0QUoMlpYpRKsxMZ1aOMPCFqeQhDEhbgJQRDchDYpMjFzZ9LlO+d9k5OkiEh4xWXO+dsSKyL2cJrKZgd3OF4kKOA1DlMVTnA/JijgDQ5yzj+pKU7wgGkraEEY6oac8wcu8B4R6xW434Iwc3LvBtgsM86Ac+FK8IjfHggrIw+7Wo211msYemFE7JavO8I53iJio+1LI+A05/xVsm08lW/87MI9sKr9E6RlwHmCVIG3JeyClWALzzhJETHgBVeLwEZw9gd7om1XAmZH9QAAAABJRU5ErkJggg==) center center no-repeat"></a><h2 style="height:60px;line-height:60px;font-size:18px;color:#333;text-align:center;">- '+s.getCoupons+' -</h2><div class="coupon-roll" style="width:660px;max-height:380px;overflow-y:auto;padding-top:20px;margin:0 auto;overflow:auto;border:1px solid #eaeaea;background:#f6f6f6;"><ul style="list-style: none;"></ul></div><p style="height:40px;line-height:40px;text-align:center;"></p></div></div>';e(".J_page").append(t),e("#couponDiv").on("click",".getCoupon",function(){i(e(this).data("ac"),e(this).data("bc"),e(this).data("aid"))})}var s=t.locale.getCoupon,a=t.locale.common;utils.getCouponMulti=function(o,i){function s(t){var o="";t.receiveStates==-1?o="state-empty-"+r:1==t.receiveStates?(o="state-general-"+r,e('li[data-acbc="'+t.activityCode+t.batchCode+'"]').find("a").attr("class","getCoupon")):2==t.receiveStates?o="state-got-"+r:3==t.receiveStates?o="state-begin-"+r:4==t.receiveStates&&(o="state-over-"+r),e('li[data-acbc="'+t.activityCode+t.batchCode+'"]').attr("class",o)}o.preventDefault();var c=e(i),r=c.data("instanceid"),l=c.data("sbomcode"),p="",d=couponList[r+""+l],h=[];0==e("#couponDiv").length&&n(),e("#couponDiv").children("p").html("");for(var u in d){var f=d[u];f.cquota&&(h.push({activityCode:f.activityCode,batchCode:f.batchCode}),p+="cz-CZHW"==t.pageConfig.locale||"ru-RU"==t.pageConfig.locale||"ru-RUHW"==t.pageConfig.locale||"ru-RUHONOR"==t.pageConfig.locale?'<li title="'+f.cname+'" data-acbc="'+f.activityCode+f.batchCode+'" style="float: left;width: 280px;height: 130px;margin: 0 0 20px '+(1==d.length?"190px":"35px")+';border-radius: 10px;box-shadow: 0 7px 15px #e0e0e0;"><a href="javascript:;" data-aid="'+r+'" data-ac="'+f.activityCode+'" data-bc="'+f.batchCode+'" style="width: 100%;height: 100%;display: inline-block;"><div style="float: left;width: 196px;margin-top: 15px;margin-left:30px;"><div style="display:table;color: #e85a53;margin-bottom: 9px;"><span style="font-size: 46px;float: left;font-family: Impact;line-height: 46px;">'+f.cquota+'</span><span style="float: left;color: #e85a53;font-size: 22px;font-weight: bold;text-align: right;padding-right: 6px;width: 30px;margin-top: 15px;">'+a.currencySymbol+'</span><strong style="font-size: 14px;font-weight: bold;margin-left: 12px;float: left;margin-top: 3px;">'+c.data("cquotasuffix")+'</strong></div><p style="color: #3a3a3a;font-size: 14px;padding-right: 26px;margin:0px;line-height: 16px;height: 32px;overflow: hidden;">'+f.cname+'</p><p style="margin-top: 4px;color: #888;">'+f.cdate+"</p></div></a></li>":'<li title="'+f.cname+'" data-acbc="'+f.activityCode+f.batchCode+'" style="float: left;width: 280px;height: 130px;margin: 0 0 20px '+(1==d.length?"190px":"35px")+';border-radius: 10px;box-shadow: 0 7px 15px #e0e0e0;"><a href="javascript:;" data-aid="'+r+'" data-ac="'+f.activityCode+'" data-bc="'+f.batchCode+'" style="width: 100%;height: 100%;display: inline-block;"><span style="float: left;color: #e85a53;font-size: 22px;font-weight: bold;text-align: right;padding-right: 6px;width: 30px;margin-top: 15px;">'+a.currencySymbol+'</span><div style="float: left;width: 196px;margin-top: 15px;"><div style="display:table;color: #e85a53;margin-bottom: 9px;"><span style="font-size: 46px;float: left;font-family: Impact;line-height: 46px;">'+f.cquota+'</span><strong style="font-size: 14px;font-weight: bold;margin-left: 12px;float: left;margin-top: 3px;">'+c.data("cquotasuffix")+'</strong></div><p style="color: #3a3a3a;font-size: 14px;padding-right: 26px;margin:0px;line-height: 16px;height: 32px;overflow: hidden;">'+f.cname+'</p><p style="margin-top: 4px;color: #888;">'+f.cdate+"</p></div></a></li>")}utils.queryCouponState(h,s);var b=e("#couponDiv");b.find("ul").html(p),b.parent().show(),e(t).resize(function(o){b.css("top",(e(t).height()-b.outerHeight())/2)}),b.css("top",(e(t).height()-b.outerHeight())/2)}}(window,jQuery)},function(t,e){utils.queryCouponState=function(t,e){if(!t.length)return!1;for(var o=0;o<t.length;o++)for(var i=o+1;i<t.length;)t[o].activityCode==t[i].activityCode&&t[o].batchCode==t[i].batchCode?t.splice(i,1):i++;utils.ajaxOpenAPI({type:"GET",url:"/ams/coupon/queryCouponStates",data:{listQueryCouponStateReqs:JSON.stringify(t)},success:function(t){t.success&&t.couponStateData.length>0&&$.each(t.couponStateData,function(t,o){e(o)})}})},utils.getCoupon=function(t,e,o){var i=window.locale.getCoupon;utils.ajaxOpenAPI({type:"POST",url:"/ams/coupon/receive",cache:!1,data:t,success:function(n){var s="",a={boxclass:"ol_box_4",showTitle:!1,faceType:"success",okBtnName:i["btn.confirm"],showCancel:!1};if(n&&n.success){s=n.pcReviceSuccTip;var c=[];c.push(t),utils.queryCouponState(c,e),o&&void 0!=n.reviceType?"1"==n.reviceType?"zh-CN"==window.pageConfig.locale&&utils.handleCode.toUse(a,t):"zh-CN"==window.pageConfig.locale&&utils.handleCode.checkOut(a,t):"zh-CN"==window.pageConfig.locale&&utils.handleCode.toUse(a,t)}else switch(s=n.errorTip,a.faceType="failed",Number(n.code)){case 9206:utils.handleCode.unLogin(a);break;case 9208:utils.handleCode.unVerification(a);break;case 9209:utils.handleCode.unAuthentication(a);break;case 9216:utils.handleCode.earn(a)}new utils.box(s,a).open()}})}},function(t,e){!function(t,e){var o=t.locale.prize;Md.prize={oPrize:function(t,i){var n=this,s=function(t){var s=null,a=null,c="<i></i>",r="dialog-button-yes",l=o["btn.confirm"];if(t&&t.success&&i&&i(),t&&t.success){if(t.limit>0){var p=utils.getLanguageKey(t.limit,"prompt.chance");s=(t.pcPrizeTip||t.pcNotPrizeTip||"")+o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/prompt.have"]+t.limit+o[p]}else s=t.pcPrizeTip||t.pcNotPrizeTip||"";t.pcNotPrizeTip&&(c="<s></s>")}else c="<s></s>",a=n.messageTip(t.code,t.msg,t.isSupportShare,t.isShareTimesUsedUp),s=a.text,l=a.btn,r=a._class;Tool.pcTipShow(c,s,r,l),a&&a.notRedBag&&(e("#redbag-bg").hide(),e("#redbag").html(""),n.timer&&clearInterval(n.timer))};ams.commonNewPrize({activityCode:t},s)},messageTip:function(t,e,i,n,s){var a={text:"",btn:o["btn.confirm"],_class:"dialog-button-yes",notRedBag:!1},c=null;switch(Number(t)){case 9e3:case 9001:case 9002:a.text=o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/prompt.wait"];break;case 9003:case 9004:a.text=o["prompt.begin"];break;case 9005:a.text=o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/prompt.over"],a.notRedBag=!0;break;case 9006:a.text=o["prompt.login"],a.btn=o["btn.login"],a._class="dialog-button-ver";break;case 9007:a.text=o["prompt.condition"],a.notRedBag=!0;break;case 9008:a.text=o["prompt.phone"],a.btn=o["btn.verification"],a._class="dialog-button-ver";break;case 9009:a.text=o["prompt.authentication"],a.btn=o["btn.authentication"],a._class="dialog-button-ver";break;case 9010:a.text=o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/prompt.data"];break;case 9011:c=e.replace(/[^0-9]/g,""),a.text=o["prompt.cumulate"]+c+o["prompt.prize"],a.notRedBag=!0;break;case 9012:c=e.replace(/[^0-9]/g,""),a.text=o["prompt.continue"]+c+o["prompt.prize"],a.notRedBag=!0;break;case 9013:i&&n===!1?(a.text=o["prompt.share"],a.btn=o["btn.share"],a._class="dialog-button-ver"):(a.text=o["prompt.empty"],a.notRedBag=!0);break;case 9014:a.text=o["nonsupport.share"];break;case 9026:a.btn=o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/btn.earn"],a.text=o["prompt.earn.point.a"]+s+o["prompt.earn.point.b"];break;case 9027:a.btn=o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/btn.earn"],a.text=o["prompt.earn.point.a"]+s+o["prompt.earn.point.b"];break;default:a.text=o["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/prompt.wait"]}return a}},t.prize=Md.prize}(window,jQuery)},function(t,e){!function(t){var e=t.locale.getCoupon;utils.handleCode={unLogin:function(o){o.faceType="failed",o.showCancel=!0,o.cancelBtnName=t.locale.jumpBtn["btn.register"],o.oncancel=function(){t.location.href=t.registerLink},o.okBtnName=e["btn.login"],o.onok=function(){utils.goLogin()}},unVerification:function(o){o.showCancel=!0,o.okBtnName=e["btn.verification"],o.onok=function(){t.location.href=t.main+"/member/bind/phone/redirect?back_url="+encodeURIComponent(t.location.href)}},unAuthentication:function(o){o.showCancel=!0,o.okBtnName=e["btn.authentication"],o.onok=function(){t.location.href=t.main+"/authmember/accesstoken"}},share:function(t){t.showCancel=!0,t.okBtnName=e["btn.share"],t.onok=function(){Tool.share.shareSina(Tool.share.shareType)}},earn:function(o){o.showCancel=!0,o.okBtnName=e["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/btn.earn"],o.onok=function(){t.location.href=t.main+"/member/newpoint"}},data:function(o){o.showCancel=!0,o.okBtnName=e["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/btn.data"],o.onok=function(){t.location.href=t.infoLink}},toUse:function(o,i){o.showCancel=!0,o.cancelBtnName=e["btn.confirm"],o.okBtnName=e["btn.toUse"],o.onok=function(){t.location.href=t.domainMain+"/product/coupon/queryPrdForCoupon-"+i.batchCode}},checkOut:function(o,i){o.showCancel=!0,o.cancelBtnName=e["btn.confirm"],o.okBtnName=e.checkOut,o.onok=function(){t.location.href=t.domainMain+"/member/msg"}}}}(window)},function(t,e){"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/shopdcportal-dev.test.vmall.com"==window.location.host&&(window.openapiDomain="https://openapidev.test.vmall.com"),window.setCsrftoken=!1,function(t){var e=/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent),o=t.location,i=[{pc:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/sale.vmall.com",wap:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/msale.vmall.com"},{pc:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/mm.vmall.com",wap:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/mt.vmall.com"},{pc:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/www.hihonor.com",wap:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/m.hihonor.com"},{pc:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/shop.huawei.com",wap:"https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/mshop.huawei.com"}];if(!e)return!1;for(var n=0;n<i.length;n++)if(o.hostname==i[n].pc){o.href=o.href.replace(i[n].pc,i[n].wap);break}}(window),window.main=window.domainMain,window.domainAms=window.amsDomain,window.ucDomain=window.domainUc,$.extend({browser:{}}),window.utils||(window.utils={}),window.Tool=window.utils,window.components||(window.components={}),window.console=window.console||function(){var t={};return t.log=t.warn=t.debug=t.info=t.error=t.time=t.dir=t.profile=t.clear=t.exception=t.trace=t.assert=function(){},t}(),utils.escape=function(t){if("string"!=typeof t)return t;if(Tool.isEmpty(t))return"";var e=document.createElement("div"),o=document.createTextNode(t);return e.appendChild(o),e.innerHTML},utils.getPublishTime=function(){if(window.pageConfig.publishTime){var t,e,o,i,n,s,a=new Date(window.pageConfig.publishTime),c=function(t){return(t<10?"0"+t:t).toString()};return t=a.getFullYear(),e=c(a.getMonth()+1),o=c(a.getDate()),i=c(a.getHours()),n=c(a.getMinutes()),s=c(a.getSeconds()),t+e+o+i+n+s}},utils.pkg=function(t,e,o){var i,n,s;if(3==arguments.length?(i=t,n=e,s=o):(i=window,n=t,s=e),!n||!n.length)return null;for(var a=n.split("."),c=i,r=0;r<a.length-1;r++)c[a[r]]||(c[a[r]]={}),c=c[a[r]];return c=c[a[a.length-1]]=s||c[a[a.length-1]]||{}},utils.getUrlParams=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(e)||window.location.hash.substr(1).match(e);return o?decodeURIComponent(o[2]):""},utils.toast=function(t){t.message=t.message||"提示信息",t.delay=t.delay||2e3,t.icon=t.icon||"success";var e=$(".dc-toast");0==e.length?e=$('<div class="dc-toast dc-toast-'+t.icon+'">'+t.message+"</div>").appendTo($("body")):e.text(t.message),e.css({"margin-left":-(e.outerWidth()/2),"margin-top":-(e.outerHeight()/2)}),e.fadeIn("fast",function(){setTimeout(function(){e.fadeOut("slow")},t.delay)})},function(t,e){var o={};Tool.cookie={get:function(t){var e=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),i=0;i<o.length;i++){var n=(o[i]||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"");if(n.substring(0,t.length+1)==t+"="){var s=function(t){t=t.replace(/\+/g," ");for(var e='()<>@,;:\\"/[]?={}',o=0;o<e.length;o++)if(t.indexOf(e.charAt(o))!=-1){t.startWith('"')&&(t=t.substring(1)),t.endWith('"')&&(t=t.substring(0,t.length-1));break}return decodeURIComponent(t)};e=s(n.substring(t.length+1));break}}return e},set:function(t,e,o){o=o||{},null===e&&(e="",o.expires=-1);var i="";if(o.expires&&("number"==typeof o.expires||o.expires.toUTCString)){var n;"number"==typeof o.expires?(n=new Date,n.setTime(n.getTime()+24*o.expires*60*60*1e3)):n=o.expires,i="; expires="+n.toUTCString()}var s="; path="+(o.path||"/"),a=window.location.hostname.split("."),c=a.length,r="."+a[c-2]+"."+a[c-1],l="; domain="+r,p=o.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),i,s,l,p].join("")}},Tool.exist=function(t){return!!e(t).length},Tool.pcBox=function(){var t='<div id="box_tip"><div class="shade"></div><div class="dialog" id="box"><div>';t+='<a title="关闭" class="box-close" href="javascript:;"></a>',t+='</div><div><div class="h"></div><div class="b"><p></p></div><div class="f">',t+='<a href="javascript:;" id="dialog-btn"></a></div></div></div></div>';var o=e("body").children().eq(0);e(t).insertBefore(o)},Tool.pcBox(),e(".box-close").click(function(){e("#box_tip").hide(),e("#box_tip .h").html(""),e("#register").remove(),e("#dialog-btn").removeAttr("class"),window.flashOpt&&dialPrize.loadFlash(1)});var i=window.locale.jumpBtn;e("#dialog-btn").click(function(){var t=e(this).html();e("#box_tip").hide(),e("#box_tip .h").html(""),e(this).removeAttr("class"),e.inArray(t,[i["btn.login"]])>=0?window.location.href=loginLink:e.inArray(t,[i["btn.verification"],i["btn.binding"],i["btn.binding2"]])>=0?window.location.href=main+"/member/bind/phone/redirect?back_url="+encodeURIComponent(window.location.href):e.inArray(t,[i["btn.authentication"],i["btn.authentication2"]])>=0?window.location.href=main+"/authmember/accesstoken":e.inArray(t,[i["btn.share"]])>=0?Tool.share.shareSina(Tool.share.shareType):e.inArray(t,[i["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/btn.earn"]])>=0?window.location.href=main+"/member/newpoint":e.inArray(t,[i["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/btn.data"]])>=0&&(window.location.href=infoLink),window.flashOpt&&dialPrize.loadFlash(1)}),Tool.pcTipShow=function(t,o,n,s,a){e("#box_tip").addClass(a),e("#box_tip .h").html(t),e("#box_tip .b p").html(o),e("#box_tip #dialog-btn").addClass(n).html(s),s==i["btn.login"]&&e("#register").length<1&&e("#box_tip #dialog-btn").before("<a href='"+registerLink+"' id='register' class='dialog-button-cancel'>"+i["btn.register"]+"</a>"),e("#box_tip").show();var c=e(window).height(),r=e(window).width(),l=e(".dialog").height(),p=e(".dialog").width(),d=(c-l)/2,h=(r-p)/2;e("#box_tip #box").css({left:h+"px",top:d+"px"}),e("#box_tip").css({opacity:1,filter:"alpha(opacity=100)"})},Tool.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},Tool.isEmpty=function(t){return"undefined"==t||null==t||""==t||0==t.length},Tool.getJSON=function(t){if(this.isEmpty(t)||this.isEmpty(t.url)||!this.isFunction(t.callback))return!1;var o=t.domain+t.url+(new Date).getTime()+"&callback=?";e.getJSON(o,t.data,function(e){t.callback(e)})},e(t).resize(function(){e("#box").css({left:(e(t).width()-600)/2,top:(e(t).height()-290)/2})}),t.Md=o}(window,jQuery),utils.getCsrftoken=function(){$.ajax({type:"GET",url:window.openapiDomain+"/csrftoken.js",cache:!1,async:!1,timeout:5e3,beforeSend:function(t){t.withCredentials=!0},xhrFields:{withCredentials:!0},success:function(t){},error:function(){console.log("request error")}})},utils.getCsrftoken(),utils.ajaxOpenAPI=function(t){"POST"==t.type.toUpperCase()&&(t.data=JSON.stringify(t.data)),t.error=function(e,o){if(200917==e.responseJSON.resultCode&&"DESIGN"!=window.shopdcmode){utils.getCsrftoken();var i=new utils.box(window.locale.prize["https://res9.vmallres.com/shopdc/cdn/modules/common/pc/js/prompt.wait"],{boxclass:"ol_box_4 tokenTip",showTitle:!1,showCancel:!1,onok:function(){i.close(),window.location.reload()}}).open();$(".tokenTip .box-close").click(function(){i.close(),window.location.reload()})}"timeout"===o&&"function"==typeof t.timeoutFunction?t.timeoutFunction():"function"==typeof t.errorFunction&&t.errorFunction()},t.url=window.openapiDomain+t.url,$.ajax($.extend({type:"POST",dataType:"json",url:"",cache:!1,data:{},timeout:5e3,beforeSend:function(t){t.withCredentials=!0,setCsrftoken||t.setRequestHeader("CsrfToken",csrftoken)},xhrFields:{withCredentials:!0},success:function(t){},error:function(t,e){}},t))},utils.goLogin=function(){window.location.href=window.loginLink},utils.upLogin=function(t){function e(){var t=document.getElementById("upAgentIframe"),e=location.origin+"/upCallback.htm";t?t.src=e+"?"+(new Date).getTime():(t=document.createElement("iframe"),t.id="upAgentIframe",t.src=e,t.style.display="none",document.body.appendChild(t))}var o="callback"+(new Date).getTime(),i=ifmLogin+"?validated=true&themeName=red&service="+encodeURIComponent(domainMain+"/account/caslogin?url="+encodeURIComponent(location.origin+"/upCallback.htm?callback="+o+"&prePage="+encodeURIComponent(encodeURIComponent(location.href))))+"&loginChannel=26000000&reqClientType=26&lang=zh-cn";name="up-iframe-"+(new Date).getTime(),html='<iframe class="boxIframe" width="100%" height="100%" frameborder="0" name="'+name+'" src="about:blank" scrolling="no"></iframe><script>setTimeout(function(){window["'+name+'"].location.href="'+i+'";} ,100);</script>';var n=new utils.box(html,{boxid:"ec_login",title:" ",remember:!1,width:500,height:600,showButton:!1,draggable:!0,onclose:function(t){try{delete window[o]}catch(t){window[o]=null}t.find("iframe").each(function(){this.contentWindow.close(),jQuery(this).remove()})}});e(),n.open(),window[o]=function(){n.close(),t&&t()}},utils.isLogin=function(){return utils.cookie.get("uid")},utils.goUrl=function(t){if(!t.url)return!1;if("undefined"==typeof whitelist)return!1;var e=t.type||0,o=function(t,e){t=t.toLowerCase();for(var o=0;o<e.length;o++){if(0==t.indexOf(e[o]+"/"))return[!0,t];if(0==t.indexOf(e[o])){if(!t[e[o].length])return[!0,t];if("?"==t[e[o].length]||"#"==t[e[o].length])return t=t.replace(t[e[o].length],"/"+t[e[o].length]),[!0,t];if(o==e.length-1)return!1}}return!1},i=o(t.url,whitelist);if(i[0])if(0==e){var n=t.win||window;n.location.href=i[1]}else if(1==e)if(t.parame){var s=t.name||"newwindow_"+(new Date).getTime();window.open(i[1],s,t.parame)}else window.open(i[1])},function(){window.pageConfig=window.pageConfig||{};var t=window.pageConfig.areaCode||"CN";Tool.cookie.set("_areacode",t),pageConfig.locale&&"${locale.language}-${locale.country}"!=pageConfig.locale||(pageConfig.locale="zh-CN");var e=pageConfig.locale.replace("-","_");if(e.indexOf("HONOR")||e.indexOf("HW")){var o=e.split("_")[1].substring(2);e=e.split(o)[0]}Tool.cookie.set("locale_MS",e)}(),utils.getLanguageKey=function(t,e){return t>1?e+"s":e},utils.getCurrZoneDate=function(){var t=new Date,e=t.getTime(),o=6e4*t.getTimezoneOffset(),i=e+o,n=i+36e5*window.timeZone;return new Date(n)}},function(t,e){var o=Tool.cookie.get("access_token_wb"),o="",i=window.location.origin+window.location.pathname,n=utils.getUrlParams("code");"zh-CN"!=window.pageConfig.locale&&$(document).ready(function(){
window.fbAsyncInit=function(){FB.init({appId:facebookAppId,xfbml:!0,version:"v2.4"}),FB.Canvas.setAutoGrow()},function(t,e,o){var i,n=t.getElementsByTagName(e)[0];t.getElementById(o)||(i=t.createElement(e),i.id=o,i.src="all.js"/*tpa=https://connect.facebook.net/en_US/all.js*/,n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk")}),Tool.getAuthorizeUrl=function(t){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/authorize",data:{redirect_uri:t},success:function(t){t&&t.success&&(window.location.href=t.authorizeUri)}})},Tool.getAccessToken=function(){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/access_token",data:{code:n},xhrFields:{withCredentials:!0},success:function(t){t&&t.success&&(o=t.token_info.accessToken)}})},n&&Tool.getAccessToken(),Tool.isAccessToken=function(t,e){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/get_token_info",data:{access_token:o},success:function(o){o&&o.success&&("0"===o.scope_token_info.expires_in?Tool.getAuthorizeUrl(i):Tool.shareSina(t,e))}})},Tool.shareSina=function(t,e){utils.ajaxOpenAPI({type:"POST",url:"/ams/weibo/share",data:{access_token:o,status:t.shareMap.title+t.shareMap.content+t.shareMap.url,picUrl:t.shareMap.pic},xhrFields:{withCredentials:!0},success:function(o){o&&o.success&&(utils.toast({message:"分享成功！"}),Tool.share.addPrizeCount(t.activityCode),e&&e())}})},Tool.share={},Tool.share.shareSina=function(t,e){"CN"===window.pageConfig.areaCode?t.isTrueShare===!1?window.open("http://service.weibo.com/share/share.php?title="+encodeURIComponent(t.shareMap.title)+"&pic="+encodeURIComponent(t.shareMap.pic)+"&url="+encodeURIComponent(t.shareMap.url)+"&appkey=23431084"):o?Tool.isAccessToken(t,e):Tool.getAuthorizeUrl(i):FB.ui({method:"feed",link:t.shareMap.url||i,hashtag:t.shareMap.hashtag},function(o){o&&!o.error_code&&(Tool.share.addPrizeCount(t.activityCode),e&&e())})},Tool.share.addPrizeCount=function(t){var e=function(){return!0};utils.ajaxOpenAPI({type:"POST",url:"/ams/prize/share",data:{activityCode:t,t:(new Date).getTime()},success:e})}}]);